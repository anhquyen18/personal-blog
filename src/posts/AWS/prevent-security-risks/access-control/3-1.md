---
# icon: pen-to-square
date: 2024-06-24
# index: false
article: false
title: 3.1 IAM
prev: /posts/AWS/prevent-security-risks/budget/2-2
lastUpdated: true
dir:
  order: 1
  text: Group 1
category:
  - AWS
tag:
  - Security
  - Organization
  - IAM
  - EventBridge
  - Budget
  - Guide
---

## Tổng quan về IAM

AWS Identity and Access Management (IAM) là một dịch vụ của AWS giúp bạn quản lý quyền truy cập đến các dịch vụ và tài nguyên AWS một cách an toàn. IAM cho phép bạn kiểm soát ai có thể làm gì trong tài khoản AWS của bạn.

Thành phần chính của IAM:

- **Người dùng (Users)**:
  - Định nghĩa: Users là các thực thể đại diện cho một người hoặc một ứng dụng sử dụng để tương tác với AWS.
  - Đặc điểm: Mỗi user có thể có tên đăng nhập và mật khẩu riêng, và có thể được cấp quyền thông qua các policies.
- **Nhóm (Groups)**:
  - Định nghĩa: Groups là tập hợp các users. Bạn có thể tạo các groups để quản lý quyền truy cập cho nhiều users một cách dễ dàng hơn.
  - Đặc điểm: Policies được gán cho một group sẽ áp dụng cho tất cả các users trong group đó.
- **Vai trò (Roles)**:
  - Định nghĩa: Roles là các thực thể IAM mà bạn có thể tạo để đại diện cho các quyền truy cập mà bạn muốn cấp cho các ứng dụng hoặc người dùng khác.
  - Đặc điểm: Roles có thể được gán cho các users, applications, hoặc services để cấp quyền truy cập tạm thời.
- **Chính sách (Policies)**:
  - Định nghĩa: Policies là các tài liệu JSON định nghĩa các quyền mà bạn muốn cấp.
  - Đặc điểm: Policies được gán cho users, groups, hoặc roles để kiểm soát quyền truy cập đến các tài nguyên AWS.

Bạn có thể tìm hiểu nhiều hơn về AWS IAM tại [đây](https://docs.aws.amazon.com/IAM/latest/UserGuide/introduction.html).

## Tạo User và User group

Chúng ta sẽ tạo một user và user group để thử nghiệm các quyền hạn mà chúng ta sẽ tạo ra trong bước sau.

Truy cập giao diện [AWS IAM](https://console.aws.amazon.com/iam)

### Tạo User group

1. Tạo User Group. Trong giao điện IAM chọn _User Groups_ sau đó chọn **Create group**.

![](/storage/prevent-security-risks/iam-1_1.png)

2. Nhập tên group _DevGroup_.

Để trống phần Add users và Permisson, chúng ta sẽ quay lại phần này sau.

![](/storage/prevent-security-risks/iam-1_2.png)

3. Kéo xuống chọn **Create user group**.

![](/storage/prevent-security-risks/iam-1_3.png)

4. Tạo user group thành công.

![](/storage/prevent-security-risks/iam-1_4.png)

### Tạo User

1. Tạo User Group. Trong giao điện IAM chọn _Users_ sau đó chọn **Create user**.

![](/storage/prevent-security-risks/iam-1_5.png)

2. Cấu hình thông tin user.

- Nhập tên User (tên đăng nhập) _dev-user-01_, có 2 loại user chọn **I want to create an IAM user**.

  - _AWS Identity Center_: Phù hợp cho các tổ chức lớn hoặc có nhiều tài khoản AWS, nơi quản lý tập trung, tích hợp SSO và các hệ thống danh tính doanh nghiệp quan trọng.
  - _IAM User_: Phù hợp cho các tổ chức nhỏ hoặc môi trường đơn giản hơn, nơi yêu cầu thiết lập nhanh chóng và kiểm soát chi tiết quyền truy cập mà không cần các tính năng quản lý tập trung và SSO.

![](/storage/prevent-security-risks/iam-1_6.png)

- Password chọn _Autogenerated password_ vì khi đăng nhập lần đầu tiên bạn phải đổi password khi chọn checkbox _Users must create a new password at next sign-in_ nên đặt mật khẩu nào cũng như nhau.

  - Điều này đảm không ai biết mật khẩu ngoài chủ sở hữu user sau lần đăng nhập đầu tiền của chủ sở hữu kể cả người Admin tạo user.

- Sau đó, chọn **Next**.

![](/storage/prevent-security-risks/iam-1_7.png)

3. Cấp quyền hạn cho user.

- Có 3 lựa chọn:

  - _Add user to group_: Thêm user vào group, user sẽ sở hữu tất cả những chính sách mà group có. Một user có thể ở trong nhiều group cùng lúc.
  - _Copy permissions_: Chọn một user khác và user được tạo sẽ có những quyền hạn của user đó.
  - _Attach policies directly_: Chọn chính sách và gán thẳng vào user.

- Chúng ta chọn **Add user to group**, chọn **DevGroup**, chọn **Next**. Về lí do sẽ được giải thích ở bước sau.

![](/storage/prevent-security-risks/iam-1_8.png)

4. Kiểm tra lại thông tin user. Chọn **Next**.

![](/storage/prevent-security-risks/iam-1_9.png)

5. Tạo user thành công. Chọn **Download .csv file** để lưu lại thông tin user cho lần đăng nhập đầu tiên.

![](/storage/prevent-security-risks/iam-1_10.png)

6. Đăng nhập vào AWS.

   - Mở file _dev-user-01_credentials.csv_ đã tải trước đó.
   - Copy đường link được cung cáp ở ô _Console sign-in URL_ và dán vào browser.
   - Nhập tài khoản và mật khẩu được cung cấp ở file sau đó nhấn **Đăng nhập**.

![](/storage/prevent-security-risks/iam-1_11.png)

7. AWS sẽ yêu cầu chúng ta đổi mật khẩu ngay sau khi đăng nhập.

   - Mật khẩu cũ chúng ta sẽ nhập lại mật khẩu được cung cấp.
   - Mật khẩu mới sẽ tuỳ chúng ta dùng để tiện truy cập sau này.

8. Đăng nhập thành công.

   - Như bạn đã thấy thì user của chúng ta mặc định sẽ bị từ chối truy cập tất cả các tải nguyên không được cấp quyền.
   - Chúng ta sẽ sử dụng user này để kiểm tra khả năng truy cập vào các tài nguyên ở bài sau.

![](/storage/prevent-security-risks/iam-1_13.png)

import{_ as t,a as i,b as e,c as o,d as n,e as a,f as s,g as r,h as l,i as c,j as p,k as d,l as g,m as u,n as h}from"./5_15-Cy3DpGXs.js";import{_ as m}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as y,o as f,e as k}from"./app-BDQXVHS9.js";const A={},b=k('<p>In this step, we will create an Identity Pools configuration and grant permissions to accounts authenticated via this Cognito API.</p><h2 id="cognito-identity-pools-introduction" tabindex="-1"><a class="header-anchor" href="#cognito-identity-pools-introduction"><span>Cognito Identity pools introduction.</span></a></h2><p>Identity pools is a part of Amazon Cognito, allows you to create and manage user identities for your applications. With Identity pools, you can grant temporary access to AWS services to users, including logged in users and anonymous users.</p><p>Identity Pools highlights:</p><ol><li><p>Identity management: Identity pools help consolidate identities from multiple providers such as Facebook, Google, Amazon, and SAML providers, or use your own authentication system.</p></li><li><p>Temporary access: You can grant temporary and limited access to users to use AWS services such as Amazon S3, DynamoDB, or API Gateway.</p></li><li><p>Anonymous authentication: Allow anonymous users to access AWS resources with limited permissions, then escalate the access when they logged in.</p></li><li><p>Easy integration: Identity pools integrates well with other AWS services, making it easy to set up and manage access.</p></li><li><p>Granular permission management: Use IAM policies to define granular access rights for different groups of users based on identity attributes.</p></li></ol><p>Amazon Cognito Identity pools makes it easy to authenticate users and manage access to AWS resources, ensuring security and flexibility in building modern applications.</p><p>You can learn more about Cognito in <a href="https://docs.aws.amazon.com/cognito/" target="_blank" rel="noopener noreferrer">here</a></p><h2 id="tao-identity-pools" tabindex="-1"><a class="header-anchor" href="#tao-identity-pools"><span>Tạo Identity pools</span></a></h2><p>Access the Amazon Cognito console <a href="https://console.aws.amazon.com/cognito" target="_blank" rel="noopener noreferrer">here</a></p><ol><li>In the Cognito console, select <strong>Identity pools</strong> then click <strong>Create identity pool</strong>.</li></ol><figure><img src="'+t+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="2"><li>Loại user access chọn <strong>Authenticated access</strong></li></ol><ul><li>Authenticated Access: <ul><li>Users must log in via OAuth or User pool.</li><li>Authenticated users have more granular access and specific permissions in AWS services through IAM Policy.</li><li>Suitable for applications that need detailed and secure information about users, such as storing user profiles, accessing personal data, or performing sensitive actions.</li></ul></li><li>Guest Access. <ul><li>Users do not need to log in. They can access resources without providing identifying information. Managed through temporary information provided by Identity pools.</li><li>Access is often limited and configured to allow only non-sensitive or less important actions.</li><li>Suitable for apps that need to provide quick and simple access, such as demo apps, access to public content, or initial user experience before registration.</li></ul></li></ul><figure><img src="'+i+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="3"><li>Select <strong>Google</strong> for Authenticated identity sources. Then <strong>Next</strong>.</li></ol><figure><img src="'+e+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="4"><li>Chọn <strong>Create a new IAM role</strong>.</li></ol><ul><li>AWS will automatically create a role for us with access to AWS services. <ul><li>Role name: <em>Cognito-IDPool-Role</em></li><li>Click <strong>Next</strong>.</li></ul></li></ul><figure><img src="'+o+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="5"><li>Enter the <em>Client ID</em> we got from the Google API creation step.</li></ol><figure><img src="'+n+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="6"><li>Keep other parameters as default and click <strong>Next</strong>.</li></ol><figure><img src="'+a+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="7"><li>Enter the <em>Identity pool</em>. Continue clicking <strong>Next</strong>.</li></ol><figure><img src="'+s+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="8"><li>Review the parameters are as expected, click <strong>Create Identity pool</strong>.</li></ol><figure><img src="'+r+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="9"><li>Created Identity pool successfully.</li></ol><figure><img src="'+l+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="10"><li>Go to the <a href="https://console.aws.amazon.com/iam" target="_blank" rel="noopener noreferrer">IAM</a> console to configure the Identity pool.</li></ol><p>Find the Role which was created with Identity pool.</p><figure><img src="'+c+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="11"><li>Click <strong>Add permissions</strong>, click <strong>Create inline policy</strong>.</li></ol><figure><img src="'+p+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="12"><li>Grant permissions to the Identity pool.</li></ol><ul><li>Users authenticated through the Identity pool will be able to list and retrieve objects in the provided bucket.</li><li>Replace YOUR_PRIVATE_BUCKET_ARN with the ARN of the private bucket created in step 2.2.</li><li>Then click <strong>Next</strong>, enter Polcity name and click <strong>Create policy</strong>.</li></ul><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75;">  &quot;Version&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;2012-10-17&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75;">  &quot;Statement&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    {</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75;">      &quot;Action&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">: [</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;s3:ListBucket&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;s3:GetObject&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75;">      &quot;Resource&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">: [</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;YOUR_PRIVATE_BUCKET_ARN&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;YOUR_PRIVATE_BUCKET_ARN/*&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75;">      &quot;Effect&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Allow&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75;">      &quot;Sid&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;ReadPrivateBucket&quot;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  ]</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+d+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="'+g+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="'+u+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="13"><li>Added permissions successfully.</li></ol><figure><img src="'+h+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>So we have finished creating all the necessary resources for the labs. Next is the performance everyone has been waiting for, testing to see if our website works as expected.</p>',43),_=[b];function C(v,I){return f(),y("div",null,_)}const E=m(A,[["render",C],["__file","part5.html.vue"]]),q=JSON.parse('{"path":"/en/posts/AWS/oauth-cognito/part5.html","title":"5. Cognito ID Pools","lang":"en-US","frontmatter":{"date":"2024-06-24T00:00:00.000Z","title":"5. Cognito ID Pools","article":false,"lastUpdated":true,"category":["AWS"],"tag":["Cognito","S3","IAM","Guide"],"description":"In this step, we will create an Identity Pools configuration and grant permissions to accounts authenticated via this Cognito API. Cognito Identity pools introduction. Identity ...","head":[["link",{"rel":"alternate","hreflang":"vi-vn","href":"https://www.linkedin.com/in/anh-quyen-tran-188394216/personal-blog/posts/AWS/oauth-cognito/part5.html"}],["meta",{"property":"og:url","content":"https://www.linkedin.com/in/anh-quyen-tran-188394216/personal-blog/en/posts/AWS/oauth-cognito/part5.html"}],["meta",{"property":"og:site_name","content":"Tran Anh Quyen"}],["meta",{"property":"og:title","content":"5. Cognito ID Pools"}],["meta",{"property":"og:description","content":"In this step, we will create an Identity Pools configuration and grant permissions to accounts authenticated via this Cognito API. Cognito Identity pools introduction. Identity ..."}],["meta",{"property":"og:type","content":"website"}],["meta",{"property":"og:image","content":"https://www.linkedin.com/in/anh-quyen-tran-188394216/personal-blog/storage/oauth-cognito/5_1.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"vi-VN"}],["meta",{"property":"og:updated_time","content":"2024-06-26T02:18:33.000Z"}],["meta",{"property":"article:author","content":"Tran Anh Quyen"}],["meta",{"property":"article:tag","content":"Cognito"}],["meta",{"property":"article:tag","content":"S3"}],["meta",{"property":"article:tag","content":"IAM"}],["meta",{"property":"article:tag","content":"Guide"}],["meta",{"property":"article:published_time","content":"2024-06-24T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-06-26T02:18:33.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"WebPage\\",\\"name\\":\\"5. Cognito ID Pools\\",\\"description\\":\\"In this step, we will create an Identity Pools configuration and grant permissions to accounts authenticated via this Cognito API. Cognito Identity pools introduction. Identity ...\\"}"]]},"headers":[{"level":2,"title":"Cognito Identity pools introduction.","slug":"cognito-identity-pools-introduction","link":"#cognito-identity-pools-introduction","children":[]},{"level":2,"title":"Tạo Identity pools","slug":"tao-identity-pools","link":"#tao-identity-pools","children":[]}],"git":{"createdTime":1719368313000,"updatedTime":1719368313000,"contributors":[{"name":"Pai18","email":"anhquyen18092000@gmail.com","commits":1}]},"readingTime":{"minutes":2.11,"words":634},"filePathRelative":"en/posts/AWS/oauth-cognito/part5.md","localizedDate":"June 24, 2024","excerpt":"<p>In this step, we will create an Identity Pools configuration and grant permissions to accounts authenticated via this Cognito API.</p>\\n<h2>Cognito Identity pools introduction.</h2>\\n<p>Identity pools is a part of Amazon Cognito, allows you to create and manage user identities for your applications. With Identity pools, you can grant temporary access to AWS services to users, including logged in users and anonymous users.</p>","autoDesc":true}');export{E as comp,q as data};

import{_ as n,a as i,b as t,c as a,d as s,e as o,f as e,g as r,h as l,i as c,j as p,k as g,l as h,m as d,n as u,o as m,p as k,q as y,r as f,s as B,t as b,u as v,v as C,w as E,x as _,y as A,z as F,A as x,B as q,C as z}from"./iam-3_30-Qp1PZc1i.js";import{_ as S}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as N,o as D,e as P}from"./app-BDQXVHS9.js";const T={},w=P('<p>Ở bước trước chúng ta đã cấp quyền tối thiểu cho một user để có thể tạo EC2, giả sử nếu không may chúng ta bất cẩn cấp quyền stop instance cho người dùng thì sao. Người dùng có thể dừng instance và khiến ứng dụng bị gián đoạn gây ra những thiệt hại không thể lường trước được. Mình đã từng đọc một bài báo về một anh thanh niên sau khi nghỉ việc không hiểu cay cú kiểu gì đã xoá hàng loạt máy chủ gây thiệt hại cho công ty hàng chục nghìn đô la. Vậy chúng ta có thể hạn chế việc đó như thế nào?</p><p>Có rất nhiều cách để ngăn chặn vấn đề trên, mình ở đây sẽ sử dụng một trong những cách đơn giản là sử dụng EventBridge và Lambda để ngăn chặn người dùng stop instance.</p><h3 id="tao-iam-role-cho-lambda" tabindex="-1"><a class="header-anchor" href="#tao-iam-role-cho-lambda"><span>Tạo IAM Role cho Lambda</span></a></h3><p>Đầu tiên chúng ta sẽ tạo execution role cho lamda có thể thực hiện các hành động lên EC2 instance.</p><p>Ở tài khoản Admin chúng ta truy cập vào giao diện <a href="https://console.aws.amazon.com/iam" target="_blank" rel="noopener noreferrer">AWS IAM</a></p><ol><li>Chọn <strong>Policies</strong>, chọn <strong>Create policy</strong>.</li></ol><figure><img src="'+n+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="2"><li>Chọn <strong>JSON</strong>, thay thế đoạn code vào <strong>Policy editor</strong>.</li></ol><p>Policy này cho phép hàm lambda thực hiện hành động tạo log và start instance.</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75;">  &quot;Version&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;2012-10-17&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75;">  &quot;Statement&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    {</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75;">      &quot;Effect&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Allow&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75;">      &quot;Action&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">: [</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;logs:CreateLogGroup&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;logs:CreateLogStream&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;logs:PutLogEvents&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75;">      &quot;Resource&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;arn:aws:logs:*:*:*&quot;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    },</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    {</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75;">      &quot;Effect&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Allow&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75;">      &quot;Action&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">: [</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;ec2:Start*&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#E06C75;">      &quot;Resource&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;*&quot;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">  ]</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+i+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="3"><li>Kéo xuống chọn <strong>Next</strong>.</li></ol><figure><img src="'+t+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="4"><li><p>Nhập thông tin.</p><ul><li>Policy name: <em>EC2Protect</em>.</li><li>Description: <em>Protected instance stopped</em>.</li></ul></li></ol><figure><img src="'+a+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="5"><li>Kéo xuống kiểm tra quyền hạn, chọn <strong>Create policy</strong>.</li></ol><figure><img src="'+s+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="6"><li>Chuyển sang mục <strong>Roles</strong>, chọn <strong>Create role</strong>.</li></ol><figure><img src="'+o+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="7"><li><p>Chọn <strong>AWS service</strong>.</p><ul><li>Use case: <em>Lambda</em>.</li><li>Chọn <strong>Next</strong>.</li></ul></li></ol><figure><img src="'+e+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="8"><li>Tìm kiếm và chọn policy đã tạo <em>EC2Protect</em>. Tiếp tục chọn <strong>Next</strong>.</li></ol><figure><img src="'+r+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="9"><li>Nhập tên Role <em>EC2ProtectRole</em>.</li></ol><figure><img src="'+l+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="10"><li>Kiểm tra permissions. Sau đó chọn <strong>Create role</strong>.</li></ol><figure><img src="'+c+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Sau khi tạo Execution Role cho lambda function thành công, chúng ta tạo hàm lamda để thực hiện hành động bảo vệ EC2 instance mỗi khi gặp sự kiện thay đổi trạng thái của EC2 instance.</p><h3 id="tao-lambda-function" tabindex="-1"><a class="header-anchor" href="#tao-lambda-function"><span>Tạo Lambda function</span></a></h3><p>Ở giao diện <a href="https://console.aws.amazon.com/lambda" target="_blank" rel="noopener noreferrer">Lambda</a></p><ol><li>Chọn <strong>Create function</strong></li></ol><figure><img src="'+p+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="2"><li><p>Chọn <strong>Author from scratch</strong>.</p><ul><li>Function name: <em>EC2Protect</em>.</li><li>Runtime: <em>Python 3.12</em> (Phiên bản Python có thể được thay đổi trong tương lai).</li></ul></li></ol><figure><img src="'+g+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="3"><li><p>Chọn <strong>Change default execution role</strong>, chọn tiếp <strong>Use an existing role</strong>.</p><ul><li>Chọn role chúng ta vừa tạo <strong>EC2ProtectRole</strong>.</li><li>Cuối cùng chọn <strong>Create function</strong>.</li></ul></li></ol><figure><img src="'+h+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="4"><li>Tạo Lamda function thành công.</li></ol><figure><img src="'+d+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="5"><li><p>Kéo xuống <strong>Code source</strong>.</p><ul><li>Nhập code python vào.</li><li>Nhấn <strong>Deploy</strong>.</li></ul></li></ol><p>Hàm lambda này sẽ nhận thông báo trạng thái EC2 instance từ EventBridge từ đó start EC2 lại instance đó.</p><div class="language-py line-numbers-mode" data-ext="py" data-title="py"><pre class="shiki shiki-themes github-light one-dark-pro vp-code" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">import</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> boto3</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">import</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> os</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">import</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> json</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">region </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;ap-southeast-1&#39;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">ec2 </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> boto3.</span><span style="color:#24292E;--shiki-dark:#61AFEF;">client</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;ec2&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;">region_name</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> region)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">def</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> lambda_handle</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#24292E;--shiki-dark:#D19A66;font-style:inherit;--shiki-dark-font-style:italic;">event</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="color:#24292E;--shiki-dark:#D19A66;font-style:inherit;--shiki-dark-font-style:italic;">context</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">):</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#56B6C2;">    print</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;Received event: &quot;</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> +</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> json.</span><span style="color:#24292E;--shiki-dark:#61AFEF;">dumps</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(event))</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    instances </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> [event[</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;detail&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">][</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;instance-id&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">]]</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    ec2.</span><span style="color:#24292E;--shiki-dark:#61AFEF;">start_instances</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;">InstanceIds</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> instances)</span></span>
<span class="line"><span style="color:#005CC5;--shiki-dark:#56B6C2;">    print</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;Protected instance stopped - starting up instance: &#39;</span><span style="color:#D73A49;--shiki-dark:#56B6C2;"> +</span><span style="color:#005CC5;--shiki-dark:#56B6C2;"> str</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(instances))</span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+u+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Đã tạo xong lambda function.</p><h3 id="tao-eventbridge" tabindex="-1"><a class="header-anchor" href="#tao-eventbridge"><span>Tạo EventBridge</span></a></h3><p>Truy cập giao diện <a href="https://console.aws.amazon.com/events" target="_blank" rel="noopener noreferrer">Amazon EventBridge</a></p><ol><li>Chọn mục <em>Buses - Rules</em>.</li></ol><figure><img src="'+m+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="2"><li><p>Nhập tên rule <em>ProtectRule</em>.</p><ul><li>Chọn <strong>Rule with an event parttern</strong>.</li><li>Sau đó chọn <strong>Next</strong>.</li></ul></li></ol><figure><img src="'+k+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="3"><li>Kéo xuống chọn <strong>Use pattern form</strong>.</li></ol><figure><img src="'+y+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="4"><li><p>Cấu hình Event parttern.</p><ul><li>Event source: chọn <strong>AWS services</strong>.</li><li>AWS services: chọn <strong>EC2</strong>.</li><li>Event type: chọn <strong>EC2 Instance State-change Notification</strong>.</li><li>Event Type Specification 1: <strong>Specific state(s)</strong>, chọn trạng thái <strong>stopped</strong>.</li><li>Event Type Specification 2: <strong>Specific instance Id(s)</strong>, nhập instance Id <em>test-user</em> chúng ta đã tạo ở ví dụ trước hoặc bất cứ instance đang chạy nào bạn muốn.</li></ul></li></ol><figure><img src="'+f+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="5"><li>Kéo xuống chọn <strong>Next</strong>.</li></ol><figure><img src="'+B+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="6"><li><p>Cấu hình target.</p><ul><li>Select a target: chọn <strong>Lambda function</strong>.</li><li>Chọn lambda function mà ta đã tạo ở bước trước <strong>EC2Protect</strong>.</li><li>Sau đó chọn <strong>Next</strong>.</li></ul></li></ol><figure><img src="'+b+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="7"><li>Chúng ta sẽ không cần tạo tag. Chọn <strong>Next</strong>.</li></ol><figure><img src="'+v+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="8"><li>Kiểm tra lại cấu hình rule đã tạo. Chọn <strong>Create rule</strong>.</li></ol><figure><img src="'+C+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="9"><li>Tạo rule <strong>ProtectRule</strong> thành công.</li></ol><figure><img src="'+E+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="kiem-tra" tabindex="-1"><a class="header-anchor" href="#kiem-tra"><span>Kiểm tra</span></a></h3><p>Chúng ta sẽ kiểm tra khả năng chống EC2 instance stop mà chúng ta vừa tạo.</p><p>Truy cập vào giao diện <a href="https://console.aws.amazon.com/ec2" target="_blank" rel="noopener noreferrer">EC2</a></p><ol><li>Chuột phải vào <em>test-ec2</em>, chọn <strong>Stop instance</strong>.</li></ol><figure><img src="'+_+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="2"><li>Instance sẽ chuyển sang trạng thái stop và sau đó được khởi động lại ngay lập tức.</li></ol><figure><img src="'+A+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="'+F+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="3"><li>Chúng ta có thể kiểm tra log của hàm lambda <strong>EC2Protect</strong> trong <a href="https://console.aws.amazon.com/cloudwatch" target="_blank" rel="noopener noreferrer">CloudWatch</a></li></ol><p>Chọn logs group <em>EC2Protect</em>.</p><figure><img src="'+x+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="4"><li>Chọn logs mới nhất.</li></ol><figure><img src="'+q+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="5"><li>Chúng ta có thể xem toàn bộ quá trình hoạt động của hàm lambda ở đây.</li></ol><figure><img src="'+z+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Vậy là chúng ta đã hạn chế được rủi ro tắt máy chủ khi chẳng may cấp thừa quyền cho user. Ở đây mình sử dụng user admin để kiểm tra, để kĩ hơn bạn có thêm hành động <em>ec2:StopInstances</em> cho policy đã tạo ở ví dụ trước và sử dụng <em>dev-user-01</em> để kiểm tra.</p>',79),R=[w];function I(L,W){return D(),N("div",null,R)}const V=S(T,[["render",I],["__file","3-3.html.vue"]]),U=JSON.parse('{"path":"/posts/AWS/prevent-security-risks/access-control/3-3.html","title":"3.3 Ngăn chặn EC2 instance stop","lang":"vi-VN","frontmatter":{"date":"2024-06-24T00:00:00.000Z","article":false,"title":"3.3 Ngăn chặn EC2 instance stop","next":"/posts/AWS/prevent-security-risks/part4","lastUpdated":true,"category":["AWS"],"tag":["Security","Organization","IAM","EventBridge","Budget","Guide"],"description":"Ở bước trước chúng ta đã cấp quyền tối thiểu cho một user để có thể tạo EC2, giả sử nếu không may chúng ta bất cẩn cấp quyền stop instance cho người dùng thì sao. Người dùng có ...","head":[["link",{"rel":"alternate","hreflang":"en-us","href":"https://www.linkedin.com/in/anh-quyen-tran-188394216/personal-blog/en/posts/AWS/prevent-security-risks/access-control/3-3.html"}],["meta",{"property":"og:url","content":"https://www.linkedin.com/in/anh-quyen-tran-188394216/personal-blog/posts/AWS/prevent-security-risks/access-control/3-3.html"}],["meta",{"property":"og:site_name","content":"Trần Anh Quyền"}],["meta",{"property":"og:title","content":"3.3 Ngăn chặn EC2 instance stop"}],["meta",{"property":"og:description","content":"Ở bước trước chúng ta đã cấp quyền tối thiểu cho một user để có thể tạo EC2, giả sử nếu không may chúng ta bất cẩn cấp quyền stop instance cho người dùng thì sao. Người dùng có ..."}],["meta",{"property":"og:type","content":"website"}],["meta",{"property":"og:image","content":"https://www.linkedin.com/in/anh-quyen-tran-188394216/personal-blog/storage/prevent-security-risks/iam-3_1.png"}],["meta",{"property":"og:locale","content":"vi-VN"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-07-02T08:40:48.000Z"}],["meta",{"property":"article:author","content":"Tran Anh Quyen"}],["meta",{"property":"article:tag","content":"Security"}],["meta",{"property":"article:tag","content":"Organization"}],["meta",{"property":"article:tag","content":"IAM"}],["meta",{"property":"article:tag","content":"EventBridge"}],["meta",{"property":"article:tag","content":"Budget"}],["meta",{"property":"article:tag","content":"Guide"}],["meta",{"property":"article:published_time","content":"2024-06-24T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-07-02T08:40:48.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"WebPage\\",\\"name\\":\\"3.3 Ngăn chặn EC2 instance stop\\",\\"description\\":\\"Ở bước trước chúng ta đã cấp quyền tối thiểu cho một user để có thể tạo EC2, giả sử nếu không may chúng ta bất cẩn cấp quyền stop instance cho người dùng thì sao. Người dùng có ...\\"}"]]},"headers":[{"level":3,"title":"Tạo IAM Role cho Lambda","slug":"tao-iam-role-cho-lambda","link":"#tao-iam-role-cho-lambda","children":[]},{"level":3,"title":"Tạo Lambda function","slug":"tao-lambda-function","link":"#tao-lambda-function","children":[]},{"level":3,"title":"Tạo EventBridge","slug":"tao-eventbridge","link":"#tao-eventbridge","children":[]},{"level":3,"title":"Kiểm tra","slug":"kiem-tra","link":"#kiem-tra","children":[]}],"git":{"createdTime":1719909648000,"updatedTime":1719909648000,"contributors":[{"name":"Pai18","email":"anhquyen18092000@gmail.com","commits":1}]},"readingTime":{"minutes":3.94,"words":1181},"filePathRelative":"posts/AWS/prevent-security-risks/access-control/3-3.md","localizedDate":"24 tháng 6 năm 2024","excerpt":"<p>Ở bước trước chúng ta đã cấp quyền tối thiểu cho một user để có thể tạo EC2, giả sử nếu không may chúng ta bất cẩn cấp quyền stop instance cho người dùng thì sao. Người dùng có thể dừng instance và khiến ứng dụng bị gián đoạn gây ra những thiệt hại không thể lường trước được. Mình đã từng đọc một bài báo về một anh thanh niên sau khi nghỉ việc không hiểu cay cú kiểu gì đã xoá hàng loạt máy chủ gây thiệt hại cho công ty hàng chục nghìn đô la. Vậy chúng ta có thể hạn chế việc đó như thế nào?</p>","autoDesc":true}');export{V as comp,U as data};
